{
  "contract_name": "TokenBroker",
  "abi": [
    {
      "constant": true,
      "inputs": [
        {
          "name": "channelId",
          "type": "bytes32"
        }
      ],
      "name": "getState",
      "outputs": [
        {
          "name": "",
          "type": "uint8"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "channelId",
          "type": "bytes32"
        },
        {
          "name": "payment",
          "type": "uint256"
        },
        {
          "name": "v",
          "type": "uint8"
        },
        {
          "name": "r",
          "type": "bytes32"
        },
        {
          "name": "s",
          "type": "bytes32"
        }
      ],
      "name": "claim",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "channelId",
          "type": "bytes32"
        },
        {
          "name": "value",
          "type": "uint256"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "erc20Contract",
          "type": "address"
        },
        {
          "name": "receiver",
          "type": "address"
        },
        {
          "name": "duration",
          "type": "uint256"
        },
        {
          "name": "settlementPeriod",
          "type": "uint256"
        },
        {
          "name": "value",
          "type": "uint256"
        }
      ],
      "name": "createChannel",
      "outputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "channelId",
          "type": "bytes32"
        }
      ],
      "name": "close",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "sender",
          "type": "address"
        },
        {
          "name": "channelId",
          "type": "bytes32"
        }
      ],
      "name": "canFinishSettle",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "sender",
          "type": "address"
        },
        {
          "name": "channelId",
          "type": "bytes32"
        }
      ],
      "name": "canStartSettle",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "channelId",
          "type": "bytes32"
        }
      ],
      "name": "finishSettle",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "channelId",
          "type": "bytes32"
        },
        {
          "name": "payment",
          "type": "uint256"
        }
      ],
      "name": "settle",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [],
      "name": "destroy",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "sender",
          "type": "address"
        },
        {
          "name": "_chainId",
          "type": "uint32"
        },
        {
          "name": "contractId",
          "type": "address"
        },
        {
          "name": "channelId",
          "type": "bytes32"
        },
        {
          "name": "payment",
          "type": "uint256"
        },
        {
          "name": "sigV",
          "type": "uint8"
        },
        {
          "name": "sigR",
          "type": "bytes32"
        },
        {
          "name": "sigS",
          "type": "bytes32"
        }
      ],
      "name": "isStateUpdateSigValid",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "channelId",
          "type": "bytes32"
        },
        {
          "name": "payment",
          "type": "uint256"
        }
      ],
      "name": "startSettle",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "channelId",
          "type": "bytes32"
        },
        {
          "name": "value",
          "type": "uint256"
        },
        {
          "name": "v",
          "type": "uint8"
        },
        {
          "name": "r",
          "type": "bytes32"
        },
        {
          "name": "s",
          "type": "bytes32"
        }
      ],
      "name": "canClaim",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "channelId",
          "type": "bytes32"
        }
      ],
      "name": "isOpenChannel",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "sender",
          "type": "address"
        },
        {
          "name": "channelId",
          "type": "bytes32"
        }
      ],
      "name": "canDeposit",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "channelId",
          "type": "bytes32"
        }
      ],
      "name": "getPayment",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "channelId",
          "type": "bytes32"
        }
      ],
      "name": "getUntil",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_recipient",
          "type": "address"
        }
      ],
      "name": "destroyAndSend",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "name": "_chainId",
          "type": "uint32"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "channelId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": true,
          "name": "receiver",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "value",
          "type": "uint256"
        },
        {
          "indexed": false,
          "name": "settlementPeriod",
          "type": "uint256"
        },
        {
          "indexed": false,
          "name": "until",
          "type": "uint256"
        }
      ],
      "name": "DidCreateChannel",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "channelId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "value",
          "type": "uint256"
        }
      ],
      "name": "DidDeposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "channelId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "payment",
          "type": "uint256"
        }
      ],
      "name": "DidStartSettle",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "channelId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "payment",
          "type": "uint256"
        },
        {
          "indexed": false,
          "name": "oddValue",
          "type": "uint256"
        }
      ],
      "name": "DidSettle",
      "type": "event"
    }
  ],
  "unlinked_binary": "0x6060604052341561000f57600080fd5b6040516020806110d48339810160405280805160008054600160a060020a033316600160a060020a03199091161790556002805467ffffffff000000001963ffffffff90931663ffffffff1990911617919091169055505061105e806100766000396000f3006060604052600436106100f85763ffffffff60e060020a60003504166309648a9d81146100fd57806312921758146101375780631de26e161461015e5780632b0109be1461017757806339c79e0c146101b75780633c46f72f146101cd57806368b45a2c1461020357806375f996801461022557806379f48d4c1461023b57806383197ef0146102545780638da5cb5b146102675780639a85161614610296578063ab40428e146102d7578063baa77746146102f0578063d0fa96ba14610315578063e20bff5c14610203578063e66eefc81461032b578063f03cd5ca14610341578063f2fde38b14610357578063f5074f4114610376575b600080fd5b341561010857600080fd5b610113600435610395565b6040518082600281111561012357fe5b60ff16815260200191505060405180910390f35b341561014257600080fd5b61015c60043560243560ff604435166064356084356103ad565b005b341561016957600080fd5b61015c6004356024356103d6565b341561018257600080fd5b6101a5600160a060020a03600435811690602435166044356064356084356104e1565b60405190815260200160405180910390f35b34156101c257600080fd5b61015c600435610763565b34156101d857600080fd5b6101ef600160a060020a036004351660243561087e565b604051901515815260200160405180910390f35b341561020e57600080fd5b6101ef600160a060020a03600435166024356108ea565b341561023057600080fd5b61015c60043561092c565b341561024657600080fd5b61015c600435602435610961565b341561025f57600080fd5b61015c610bb1565b341561027257600080fd5b61027a610bda565b604051600160a060020a03909116815260200160405180910390f35b34156102a157600080fd5b6101ef600160a060020a0360043581169063ffffffff60243516906044351660643560843560ff60a4351660c43560e435610be9565b34156102e257600080fd5b61015c600435602435610cec565b34156102fb57600080fd5b6101ef60043560243560ff60443516606435608435610d75565b341561032057600080fd5b6101ef600435610f4b565b341561033657600080fd5b6101a5600435610f85565b341561034c57600080fd5b6101a5600435610f9a565b341561036257600080fd5b61015c600160a060020a0360043516610faf565b341561038157600080fd5b61015c600160a060020a0360043516610ff9565b60009081526001602052604090206005015460ff1690565b6103ba8585858585610d75565b15156103c5576103cf565b6103cf8585610961565b5050505050565b6000806103e333856108ea565b15156103ee57600080fd5b5050600082815260016020526040808220600281015481549193600160a060020a039182169384936323b872dd9316913091889190516020015260405160e060020a63ffffffff8616028152600160a060020a0393841660048201529190921660248201526044810191909152606401602060405180830381600087803b151561047757600080fd5b6102c65a03f1151561048857600080fd5b50505060405180519050151561049d57600080fd5b60038201805484019055837f6f850cda6d6b2f5cca622bc2d4739e4ed917c12d29f9a92b9e6c127abe3984248460405190815260200160405180910390a250505050565b6002805467ffffffff00000000198116602060020a9182900463ffffffff908116600181019091169092021790915560009081908190819042016040519081526020016040518091039020925033915088905080600160a060020a03166323b872dd83308860006040516020015260405160e060020a63ffffffff8616028152600160a060020a0393841660048201529190921660248201526044810191909152606401602060405180830381600087803b151561059e57600080fd5b6102c65a03f115156105af57600080fd5b5050506040518051905015156105c457600080fd5b6101006040519081016040528083600160a060020a0316815260200189600160a060020a031681526020018a600160a060020a031681526020018681526020018781526020016000600281111561061757fe5b81524289016020808301919091526000604092830181905286815260019091522081518154600160a060020a031916600160a060020a03919091161781556020820151600182018054600160a060020a031916600160a060020a03929092169190911790556040820151600282018054600160a060020a031916600160a060020a0392909216919091179055606082015181600301556080820151816004015560a082015160058201805460ff191660018360028111156106d457fe5b021790555060c0820151816006015560e0820151816007015590505087600160a060020a031682600160a060020a03167f2168a0a10cb12f43941acf9cdef54ba002be7269f2b8b38d4ee9e54eb48a466285888a8c4201604051938452602084019290925260408084019190915260608301919091526080909101905180910390a35090979650505050505050565b60008181526001602052604090206002600582015460ff16600281111561078657fe5b1480156107d3575060005433600160a060020a03908116911614806107b85750805433600160a060020a039081169116145b806107d35750600181015433600160a060020a039081169116145b1561087a5760008160030154111561081f5780546003820154600160a060020a039091169080156108fc0290604051600060405180830381858888f19350505050151561081f57600080fd5b600082815260016020819052604082208054600160a060020a03199081168255918101805483169055600281018054909216909155600381018290556004810182905560058101805460ff1916905560068101829055600701555b5050565b6000818152600160208190526040822090600582015460ff1660028111156108a257fe5b1480156108d257508054600160a060020a03858116911614806108d25750600054600160a060020a038581169116145b80156108e2575042816006015411155b949350505050565b600081815260016020526040812081600582015460ff16600281111561090c57fe5b1480156108e2575054600160a060020a0393841693169290921492915050565b610936338261087e565b151561094157600080fd5b60008181526001602052604090206007015461095e908290610961565b50565b600082815260016020526040812060028101546003820154919284929091600160a060020a031690831115610a285760038401546001850154909350600160a060020a038083169163a9059cbb91168560006040516020015260405160e060020a63ffffffff8516028152600160a060020a0390921660048301526024820152604401602060405180830381600087803b15156109fd57600080fd5b6102c65a03f11515610a0e57600080fd5b505050604051805190501515610a2357600080fd5b610b4e565b6001840154600160a060020a038083169163a9059cbb91168560006040516020015260405160e060020a63ffffffff8516028152600160a060020a0390921660048301526024820152604401602060405180830381600087803b1515610a8d57600080fd5b6102c65a03f11515610a9e57600080fd5b505050604051805190501515610ab357600080fd5b60038401548454908490039250600160a060020a038083169163a9059cbb91168460006040516020015260405160e060020a63ffffffff8516028152600160a060020a0390921660048301526024820152604401602060405180830381600087803b1515610b2057600080fd5b6102c65a03f11515610b3157600080fd5b505050604051805190501515610b4657600080fd5b600060038501555b60008681526001602052604090819020600501805460ff1916600217905586907fabfecb41642f4ef37a31c1721c2da0a771e03d530ea99bf54d900d29130f512590879085905191825260208201526040908101905180910390a2505050505050565b60005433600160a060020a03908116911614610bcc57600080fd5b600054600160a060020a0316ff5b600054600160a060020a031681565b60008060028989898960006040516020015260405163ffffffff9490941660e060020a028452600160a060020a0392909216606060020a0260048401526018830152603882015260580160206040518083038160008661646e5a03f11515610c5057600080fd5b50506040518051905090506001818686866040516000815260200160405260006040516020015260405193845260ff90921660208085019190915260408085019290925260608401929092526080909201915160208103908084039060008661646e5a03f11515610cc057600080fd5b505060206040510351600160a060020a03168a600160a060020a03161491505098975050505050505050565b6000610cf833846108ea565b1515610d0357600080fd5b50600082815260016020819052604090912060058101805491929160ff19168280021790555060048101544201600682015560078101829055827f673a31efff5b18f60225e513fd4f0f53c708661f184c1898f5c52e85bd95d5008360405190815260200160405180910390a2505050565b600080610d80611020565b6000888152600160205260408082209350819080519081016040908152601c82527f19457468657265756d205369676e6564204d6573736167653a0a33320000000060208301526002549194508b918b91309163ffffffff1690519384526020840192909252600160a060020a0316606060020a0260408084019190915263ffffffff90911660e060020a026054830152605890910190518091039020915082826040518083805190602001908083835b60208310610e505780518252601f199092019160209182019101610e31565b6001836020036101000a0380198251168184511617909252505050919091019283525050602001905060405190819003902090506000600585015460ff166002811115610e9957fe5b1480610eb757506001600585015460ff166002811115610eb557fe5b145b8015610f3d57506001818989896040516000815260200160405260006040516020015260405193845260ff90921660208085019190915260408085019290925260608401929092526080909201915160208103908084039060008661646e5a03f11515610f2357600080fd5b5050602060405103518454600160a060020a039081169116145b9a9950505050505050505050565b600081815260016020526040812081600582015460ff166002811115610f6d57fe5b148015610f7e575042816006015410155b9392505050565b60009081526001602052604090206007015490565b60009081526001602052604090206006015490565b60005433600160a060020a03908116911614610fca57600080fd5b600160a060020a0381161561095e5760008054600160a060020a038316600160a060020a031990911617905550565b60005433600160a060020a0390811691161461101457600080fd5b80600160a060020a0316ff5b602060405190810160405260008152905600a165627a7a72305820710048dc3c079ecc968737287e01e4b80c9a90567033c7da8e0ec42aaab4b3620029",
  "networks": {
    "3": {
      "events": {
        "0x2168a0a10cb12f43941acf9cdef54ba002be7269f2b8b38d4ee9e54eb48a4662": {
          "anonymous": false,
          "inputs": [
            {
              "indexed": false,
              "name": "channelId",
              "type": "bytes32"
            },
            {
              "indexed": true,
              "name": "sender",
              "type": "address"
            },
            {
              "indexed": true,
              "name": "receiver",
              "type": "address"
            },
            {
              "indexed": false,
              "name": "value",
              "type": "uint256"
            },
            {
              "indexed": false,
              "name": "settlementPeriod",
              "type": "uint256"
            },
            {
              "indexed": false,
              "name": "until",
              "type": "uint256"
            }
          ],
          "name": "DidCreateChannel",
          "type": "event"
        },
        "0x6f850cda6d6b2f5cca622bc2d4739e4ed917c12d29f9a92b9e6c127abe398424": {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "name": "channelId",
              "type": "bytes32"
            },
            {
              "indexed": false,
              "name": "value",
              "type": "uint256"
            }
          ],
          "name": "DidDeposit",
          "type": "event"
        },
        "0x673a31efff5b18f60225e513fd4f0f53c708661f184c1898f5c52e85bd95d500": {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "name": "channelId",
              "type": "bytes32"
            },
            {
              "indexed": false,
              "name": "payment",
              "type": "uint256"
            }
          ],
          "name": "DidStartSettle",
          "type": "event"
        },
        "0xabfecb41642f4ef37a31c1721c2da0a771e03d530ea99bf54d900d29130f5125": {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "name": "channelId",
              "type": "bytes32"
            },
            {
              "indexed": false,
              "name": "payment",
              "type": "uint256"
            },
            {
              "indexed": false,
              "name": "oddValue",
              "type": "uint256"
            }
          ],
          "name": "DidSettle",
          "type": "event"
        }
      },
      "links": {},
      "address": "0xb6250c26c1311915647964a71fb532d40ff88329",
      "updated_at": 1509007554887
    },
    "42": {
      "events": {
        "0x2168a0a10cb12f43941acf9cdef54ba002be7269f2b8b38d4ee9e54eb48a4662": {
          "anonymous": false,
          "inputs": [
            {
              "indexed": false,
              "name": "channelId",
              "type": "bytes32"
            },
            {
              "indexed": true,
              "name": "sender",
              "type": "address"
            },
            {
              "indexed": true,
              "name": "receiver",
              "type": "address"
            },
            {
              "indexed": false,
              "name": "value",
              "type": "uint256"
            },
            {
              "indexed": false,
              "name": "settlementPeriod",
              "type": "uint256"
            },
            {
              "indexed": false,
              "name": "until",
              "type": "uint256"
            }
          ],
          "name": "DidCreateChannel",
          "type": "event"
        },
        "0x6f850cda6d6b2f5cca622bc2d4739e4ed917c12d29f9a92b9e6c127abe398424": {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "name": "channelId",
              "type": "bytes32"
            },
            {
              "indexed": false,
              "name": "value",
              "type": "uint256"
            }
          ],
          "name": "DidDeposit",
          "type": "event"
        },
        "0x673a31efff5b18f60225e513fd4f0f53c708661f184c1898f5c52e85bd95d500": {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "name": "channelId",
              "type": "bytes32"
            },
            {
              "indexed": false,
              "name": "payment",
              "type": "uint256"
            }
          ],
          "name": "DidStartSettle",
          "type": "event"
        },
        "0xabfecb41642f4ef37a31c1721c2da0a771e03d530ea99bf54d900d29130f5125": {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "name": "channelId",
              "type": "bytes32"
            },
            {
              "indexed": false,
              "name": "payment",
              "type": "uint256"
            },
            {
              "indexed": false,
              "name": "oddValue",
              "type": "uint256"
            }
          ],
          "name": "DidSettle",
          "type": "event"
        }
      },
      "links": {},
      "address": "0x485fef17279b68ddf56d1ca3efd5a47e8d25c498",
      "updated_at": 1513258193813
    },
    "999": {
      "events": {
        "0x2168a0a10cb12f43941acf9cdef54ba002be7269f2b8b38d4ee9e54eb48a4662": {
          "anonymous": false,
          "inputs": [
            {
              "indexed": false,
              "name": "channelId",
              "type": "bytes32"
            },
            {
              "indexed": true,
              "name": "sender",
              "type": "address"
            },
            {
              "indexed": true,
              "name": "receiver",
              "type": "address"
            },
            {
              "indexed": false,
              "name": "value",
              "type": "uint256"
            },
            {
              "indexed": false,
              "name": "settlementPeriod",
              "type": "uint256"
            },
            {
              "indexed": false,
              "name": "until",
              "type": "uint256"
            }
          ],
          "name": "DidCreateChannel",
          "type": "event"
        },
        "0x6f850cda6d6b2f5cca622bc2d4739e4ed917c12d29f9a92b9e6c127abe398424": {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "name": "channelId",
              "type": "bytes32"
            },
            {
              "indexed": false,
              "name": "value",
              "type": "uint256"
            }
          ],
          "name": "DidDeposit",
          "type": "event"
        },
        "0x673a31efff5b18f60225e513fd4f0f53c708661f184c1898f5c52e85bd95d500": {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "name": "channelId",
              "type": "bytes32"
            },
            {
              "indexed": false,
              "name": "payment",
              "type": "uint256"
            }
          ],
          "name": "DidStartSettle",
          "type": "event"
        },
        "0xabfecb41642f4ef37a31c1721c2da0a771e03d530ea99bf54d900d29130f5125": {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "name": "channelId",
              "type": "bytes32"
            },
            {
              "indexed": false,
              "name": "payment",
              "type": "uint256"
            },
            {
              "indexed": false,
              "name": "oddValue",
              "type": "uint256"
            }
          ],
          "name": "DidSettle",
          "type": "event"
        }
      },
      "links": {},
      "address": "0x8782a714fa24e789c8eb3aa1d17e774a74ebff67",
      "updated_at": 1510838895447
    }
  },
  "schema_version": "0.0.5",
  "updated_at": 1517096448482
}